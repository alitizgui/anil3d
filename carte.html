<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Anil3d</title>
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <base target="_blank">
  <!-- Mettre les liens relatifs corrects -->
  <link rel="stylesheet" type="text/css" href="/Qgis2threejs.css">
  <style type="text/css">
    #popup, #header, #layerpanel {
      left: 36px;
    }
    #footer-title {
      position: absolute;
      bottom: 10px;
      left: 10px;
      font-family: 'Cursive', sans-serif;
      font-size: 12px;
      color: black;
      opacity: 0.8; /* Rend le texte discret */
      pointer-events: none; /* Évite toute interaction avec l'utilisateur */
    }
  </style>
  <script src="/threejs/three.min.js"></script>
  <script src="/threejs/OrbitControls.js"></script>
  <script src="/threejs/ViewHelper.js"></script>
  <script src="/Qgis2threejs.js"></script>
</head>
<body>
  <div id="view">
    <div id="northarrow"></div>
    <div id="navigation"></div>
  </div>

  <!-- Titre intégré au décor -->
  <div id="footer-title">Ayda Maps 3D Interactive</div>

  <!-- popup -->
  <div id="popup">
    <div id="closebtn">&times;</div>
    <h2>Informations sur la Carte</h2>
    <ul>
      <li><strong>Projection :</strong> UTM Zone 31N</li>
      <li><strong>Échelle :</strong> 1:5000</li>
      <li><strong>Altitude moyenne :</strong> 1200 m</li>
      <li><strong>Couches chargées :</strong> 
        <ul>
          <li>Bâtiments</li>
          <li>Routes</li>
          <li>Relief</li>
        </ul>
      </li>
      <li><strong>Auteur :</strong> Anil3D Maps</li>
    </ul>
  </div>

  <!-- icône info -->
  <div id="infobtn">i</div>

  <!-- progress bar -->
  <div id="progress"><div id="progressbar"></div></div>

  <script>
    Q3D.Config.allVisible = true;
    Q3D.Config.viewpoint = {
      lookAt: {x: 497938.5942950403, y: 3291930.5088654812, z: 1034.6351928710938},
      pos: {x: 496021.26971992507, y: 3291540.6997546116, z: 1316.5565223819008}
    };
    Q3D.Config.localMode = true;

    var container = document.getElementById("view"),
        app = Q3D.application,
        gui = Q3D.gui;

    app.init(container); // Initialisation du viewer

    // Charger la scène
    app.loadSceneFile("/data/Anil3d/scene.js", function (scene) {
      app.start();
    }, function (scene) {
      console.log("Scene loaded successfully.");
    });
  </script>
</body>
</html>
